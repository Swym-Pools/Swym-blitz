"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.sanitizeTestLogs = exports.removeISODate = void 0;
const strip_ansi_1 = __importDefault(require("strip-ansi"));
function removeISODate(str) {
    return str.replace(/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/gim, '');
}
exports.removeISODate = removeISODate;
function sanitizeTestLogs(str) {
    return strip_ansi_1.default(str)
        .split('\n')
        .map((l) => removeISODate(l.replace(/\+\d+ms$/, '')).trim())
        .join('\n');
}
exports.sanitizeTestLogs = sanitizeTestLogs;
//# sourceMappingURL=util.js.map